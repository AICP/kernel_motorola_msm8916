/* Copyright (c) 2014, Motorola Mobility LLC. All rights reserved.
*
* This program is free software; you can redistribute it and/or modify
* it under the terms of the GNU General Public License version 2 and
* only version 2 as published by the Free Software Foundation.
*
* This program is distributed in the hope that it will be useful,
* but WITHOUT ANY WARRANTY; without even the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
* GNU General Public License for more details.
*/

/dts-v1/;

#include "msm8939-lux.dtsi"

/ {
	qcom,board-id = <0x47 0x8100>;
};

&tlmm_pinmux {
	stml0xx_inputs {
		qcom,pins = <&gp 51>, <&gp 52>, <&gp 38>, <&gp 5>;
	};
};

&spi_0 {
	stml0xx: stml0xx@0 {
		gpios = <&msm_gpio 51 0>,        /* IRQ */
			<&msm_gpio 120 0>,       /* RESET */
			<&msm_gpio 121 0>,       /* BSLEN */
			<&msm_gpio 52 0>,        /* WakeIRQ */
			<&msm_gpio 5 0>,         /* SPI Ready for Receive */
			<&msm_gpio 38 0>,        /* SPI Data Ack */
			<&msm_gpio 116 0>;       /* Wake Up Sensor Hub */
	};
};

&i2c_4 {
	/delete-node/ synaptics_dsx_i2c@20;
};

&i2c_0 {
	qcom,clk-freq-out = <400000>;

	synaptics_dsx_i2c@20 {
		compatible = "synaptics,synaptics_dsx_i2c";
		reg = <0x20>;
		interrupt-parent = <&msm_gpio>;
		interrupts = <21 0>;
		gpios = <&msm_gpio 21 0>, /* IRQ */
			<&msm_gpio 20 0>; /* RESET */
		touch_vdd-supply = <&pm8916_l16>;
		synaptics,normal-mode = <1>;
		synaptics,gpio-config;
		pinctrl-names = "default", "active";
		pinctrl-0 = <&touch_reset_default &touch_int_default>;
		pinctrl-1 = <&touch_reset_active &touch_int_active>;
	};
};
