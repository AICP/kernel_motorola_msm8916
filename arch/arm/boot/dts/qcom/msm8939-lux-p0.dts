/* Copyright (c) 2014, Motorola Mobility LLC. All rights reserved.
*
* This program is free software; you can redistribute it and/or modify
* it under the terms of the GNU General Public License version 2 and
* only version 2 as published by the Free Software Foundation.
*
* This program is distributed in the hope that it will be useful,
* but WITHOUT ANY WARRANTY; without even the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
* GNU General Public License for more details.
*/

/dts-v1/;

#include "msm8939-lux.dtsi"

/ {
	qcom,board-id = <0x47 0x8000>;
};

&soc {
	/delete-node/ isl98611a_pos;
	/delete-node/ isl98611a_neg;
};

&i2c_5 {
	lp8556@2c {
		status = "ok";
		compatible = "ti,lp8556";
		reg = <0x2c>;
		bl-name = "lcd-backlight:0";
		dev-ctrl = /bits/ 8 <0x85>;
		init-brt = /bits/ 8 <0xff>;
		pinctrl-names = "default";
		pinctrl-0 = <&backlight_reset_default>;
	};

	isl98611@29 {
		status = "disabled";
	};

	tps65132@3e {
		compatible = "ti,tps65132";
		reg = <0x3e>;
		ti,en-gpio-lpm;

		regulators {
			tps65132_pos: pos-boost {
				regulator-name = "tps65132-pos";
				regulator-min-microvolt = <5500000>;
				regulator-max-microvolt = <5500000>;
				ti,discharge-enable;
				ti,enable-time = <800>;
				ti,current-limit = <200000>;
				ti,en-gpio = <&msm_gpio 16 0>;
				regulator-boot-on;
			};

			tps65132_neg: neg-boost {
				regulator-name = "tps65132-neg";
				regulator-min-microvolt = <5500000>;
				regulator-max-microvolt = <5500000>;
				ti,discharge-enable;
				ti,enable-time = <800>;
				ti,current-limit = <40000>;
				ti,en-gpio = <&msm_gpio 17 0>;
				regulator-boot-on;
			};
		};
	};
};

&mdss_dsi0 {
	vsp_disp-supply = <&tps65132_pos>;
	vsn_disp-supply = <&tps65132_neg>;
};

&pm8916_mpps {
	mpp@a100 { /* MPP 2 */
		/* CCP_RESOUT_N */
		status = "ok";
		qcom,mode = <0>;      /* Digital Input */
		qcom,vin-sel = <2>;   /* VIN 2 (1.8V) */
		qcom,src-sel = <0>;   /* GPIO */
		qcom,ain-route = <1>; /* QPNP_PIN_AIN_AMUX_CH6 */
		qcom,master-en = <1>; /* Enable MPP */
	};
};

&i2c_0 {
	synaptics_dsx_i2c@20 {
		synaptics,x-flip;
		synaptics,y-flip;
	};
};

&tlmm_pinmux {
	stml0xx_inputs {
		qcom,pins = <&gp 51>, <&gp 52>, <&gp 38>, <&gp 5>;
	};
};

&spi_0 {
	stml0xx: stml0xx@0 {
		gpios = <&msm_gpio 51 0>,        /* IRQ */
			<&msm_gpio 120 0>,       /* RESET */
			<&msm_gpio 121 0>,       /* BSLEN */
			<&msm_gpio 52 0>,        /* WakeIRQ */
			<&msm_gpio 5 0>,         /* SPI Ready for Receive */
			<&msm_gpio 38 0>,        /* SPI Data Ack */
			<&msm_gpio 116 0>;       /* Wake Up Sensor Hub */
	};
};

&sdhc_2 {
	cd-gpios = <&msm_gpio 25 0x1>;
};
